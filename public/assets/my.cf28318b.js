var me=Object.defineProperty,pe=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var J=(m,d,c)=>d in m?me(m,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):m[d]=c,g=(m,d)=>{for(var c in d||(d={}))be.call(d,c)&&J(m,c,d[c]);if(H)for(var c of H(d))ve.call(d,c)&&J(m,c,d[c]);return m},q=(m,d)=>pe(m,fe(d));import{_ as De,b as he}from"./index.51a1eb25.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{d as W,e as D,r as K,aL as z,C as x,D as Q,aI as t,aH as a,aE as L,aF as U,aN as l,aO as n,u as O,G as f,bm as X,bn as Fe,bo as Z,aS as we,ba as ge,bb as ye,bh as ke,b4 as Ee,bg as xe,bA as Ce,bJ as Be,bi as Ve,b9 as Ae,bk as Se,aW as Te,b8 as $e,b7 as Le,bq as Ue,br as Me}from"./arco.f15df757.js";import{u as ee}from"./loading.c87df9c1.js";import{b as Ie}from"./data.ee649e12.js";import{y as ze}from"./custom.0ffb62ba.js";import{h as Pe}from"./vue.b7a8a9c1.js";import"./chart.3ce5fa7c.js";const Re=f("br",null,null,-1),Ne=f("br",null,null,-1),je=W({__name:"myDetail",setup(m,{expose:d}){const c=Pe(),P=D(""),r=D({star:"",status:"",reportType:"",time1:"",time2:"",followUserId:"",userFrom:""}),{loading:V,setLoading:M}=ee(!0),I=D([]),A={current:1,pageSize:5},o=K(g({},A)),S=async(b={current:1,pageSize:5,type:c.name})=>{M(!0);try{const{data:h}=await ze({star:r.value.star,user_id:r.value.followUserId,status:r.value.status,reportType:r.value.reportType,time1:r.value.time1,time2:r.value.time2,userFrom:r.value.userFrom,current:b.current,pageSize:b.pageSize});P.value=h.title,I.value=h.list,o.current=b.current,o.total=h.total}catch{}finally{M(!1)}},R=b=>{S(q(g({},A),{current:b,type:c.name}))};return d({fetchDataAll:(b,h,s,C,k,_,i)=>{r.value.star=b,r.value.status=h,r.value.reportType=s,r.value.time1=C,r.value.time2=k,r.value.followUserId=_,r.value.userFrom=i,console.log(r.value),S()}}),(b,h)=>{const s=X,C=z("icon-lock"),k=Fe,_=Z;return x(),Q("div",null,[t(_,{"row-key":"id",loading:O(V),pagination:o,data:I.value,bordered:!1,"label-align":"center",onPageChange:R},{columns:a(()=>[t(s,{title:"id","data-index":"id",width:80}),t(s,{title:"\u59D3\u540D","data-index":"name",width:100},{cell:a(({record:i})=>[i.lock==1?(x(),L(C,{key:0,style:{"margin-right":"5px"}})):U("",!0),l(n(i.name),1)]),_:1}),t(s,{title:"\u8DDF\u8FDB\u72B6\u6001","data-index":"follow_status",width:100},{cell:a(({record:i})=>[i.fstatuscolor?(x(),L(k,{key:0,color:i.fstatuscolor},{default:a(()=>[l(n(i.follow_status),1)]),_:2},1032,["color"])):U("",!0)]),_:1}),t(s,{title:"\u5E74\u9F84","data-index":"age",width:60}),t(s,{title:"\u57CE\u5E02","data-index":"city",width:60}),t(s,{title:"\u7533\u8BF7\u91D1\u989D","data-index":"amount",width:90}),t(s,{title:"\u8D44\u8D28","data-index":"zizhi",width:160}),t(s,{title:"\u661F\u7EA7",width:60},{cell:a(({record:i})=>[i.starcolor?(x(),L(k,{key:0,color:i.starcolor},{default:a(()=>[l(n(i.star),1)]),_:2},1032,["color"])):U("",!0)]),_:1}),t(s,{title:"\u8DDF\u8FDB\u5907\u6CE8","data-index":"remark",width:200}),t(s,{title:"\u5206\u914D\u540E\u672A\u8DDF\u8FDB\u65F6\u95F4","data-index":"notFollowTime",width:145}),t(s,{title:"\u8DDF\u8FDB/\u5206\u914D/\u7533\u8BF7\u65F6\u95F4",width:180},{cell:a(({record:i})=>[l(n(i.follow_time)+" ",1),Re,l(" "+n(i.assign_time)+" ",1),Ne,l(" "+n(i.apply_time),1)]),_:1}),t(s,{title:"\u8DDF\u8FDB\u987E\u95EE","data-index":"follow_user",width:90}),t(s,{title:"\u6570\u636E\u6765\u6E90","data-index":"source",width:90}),t(s,{title:"\u5BA2\u6237\u6765\u6E90","data-index":"user_from",width:90})]),_:1},8,["loading","pagination","data"])])}}});const w=m=>(ge("data-v-690827e2"),m=m(),ye(),m),qe={class:"container bigtable"},Oe=l(" \u67E5\u8BE2 "),Ye=l(" \u5BFC\u51FA "),Ge=w(()=>f("br",null,null,-1)),He=w(()=>f("br",null,null,-1)),Je=w(()=>f("br",null,null,-1)),We=w(()=>f("br",null,null,-1)),Ke=w(()=>f("br",null,null,-1)),Qe=w(()=>f("br",null,null,-1)),Xe=w(()=>f("br",null,null,-1)),Ze=w(()=>f("br",null,null,-1)),et=w(()=>f("br",null,null,-1)),tt=w(()=>f("br",null,null,-1)),at=w(()=>f("br",null,null,-1)),lt=l(" \u6E20\u9053\u8BE6\u60C5 "),nt=W({__name:"my",setup(m){const{loading:d,setLoading:c}=ee(!0),P=he(),r=D([]),V=new Date().getMonth()===0?12:new Date().getMonth(),M=V<10?[0,V].join(""):V,I=new Date().getMonth()===0?new Date().getFullYear()-1:new Date().getFullYear(),A=D(1),o=D({user_id:"",team_id:"",userFrom:1,time1:"",time2:[I,M].join("-"),reportType:"month"}),S=D([]),R=D([{label:"\u6708\u62A5\u8868",value:"month"},{label:"\u5468\u62A5\u8868",value:"week"}]),T={current:1,pageSize:20},b=K(g({},T)),h=D(!1),s=D(),C=D([]),k=D([]),_=(y,u,N,B)=>{P.$state.buttonPermission.includes("ReportDataDetail")&&(h.value=!0,s.value.fetchDataAll(u,N,o.value.reportType,o.value.time1,o.value.time2,B,A))},i=async y=>{c(!0);try{const{data:u}=await Ie(y);S.value=u.userFromList,r.value=u.list,b.current=y.current,b.total=u.total,C.value=u.allTeamListSelect,k.value=u.followUserList,A.value=o.value.userFrom}catch{}finally{c(!1)}},Y=()=>{i(g(g({},T),o.value))},te=y=>{i(q(g({},T),{current:y}))};Y();const ae=()=>{const y=new URLSearchParams(g(g({},T),o.value)).toString();window.location=`/api/data/reportlist?export=1&${y}`};return(y,u)=>{const N=z("Breadcrumb"),B=ke,$=Ee,E=xe,le=Ce,ne=Be,j=Ve,oe=Ae,ue=Se,se=z("icon-search"),G=Te,ie=z("icon-download"),re=$e,p=X,v=Le,de=Z,ce=Ue,_e=Me;return x(),Q("div",qe,[t(N,{items:["menu.data","menu.data.my"]},null,8,["items"]),t(ce,{class:"general-card",style:{"padding-top":"30px"}},{default:a(()=>[t(j,null,{default:a(()=>[t(E,{flex:1},{default:a(()=>[t(oe,{model:o.value,"label-col-props":{span:7},"wrapper-col-props":{span:17},"label-align":"left","auto-label-width":!0},{default:a(()=>[t(j,{gutter:16},{default:a(()=>[t(E,{span:4},{default:a(()=>[t($,{field:"name",label:"\u8DDF\u8FDB\u987E\u95EE"},{default:a(()=>[t(B,{modelValue:o.value.user_id,"onUpdate:modelValue":u[0]||(u[0]=e=>o.value.user_id=e),options:k.value,placeholder:"\u8BF7\u9009\u62E9\u8DDF\u8FDB\u987E\u95EE","allow-clear":""},null,8,["modelValue","options"])]),_:1})]),_:1}),t(E,{span:5},{default:a(()=>[t($,{field:"name",label:"\u56E2\u961F"},{default:a(()=>[t(B,{modelValue:o.value.team_id,"onUpdate:modelValue":u[1]||(u[1]=e=>o.value.team_id=e),options:C.value,placeholder:"\u8BF7\u9009\u62E9\u56E2\u961F","allow-clear":""},null,8,["modelValue","options"])]),_:1})]),_:1}),t(E,{span:5},{default:a(()=>[t($,{field:"name",label:"\u5BA2\u6237\u6765\u6E90"},{default:a(()=>[t(B,{modelValue:o.value.userFrom,"onUpdate:modelValue":u[2]||(u[2]=e=>o.value.userFrom=e),options:S.value,placeholder:"\u8BF7\u9009\u62E9\u5BA2\u6237\u6765\u6E90","allow-clear":!0},null,8,["modelValue","options"])]),_:1})]),_:1}),t(E,{span:5},{default:a(()=>[t($,{field:"name",label:"\u62A5\u8868\u7C7B\u578B"},{default:a(()=>[t(B,{modelValue:o.value.reportType,"onUpdate:modelValue":u[3]||(u[3]=e=>o.value.reportType=e),options:R.value,placeholder:"\u8BF7\u9009\u62E9\u62A5\u8868\u7C7B\u578B"},null,8,["modelValue","options"])]),_:1})]),_:1}),t(E,{span:5},{default:a(()=>[t($,{field:"name",label:"\u65F6\u95F4"},{default:a(()=>[o.value.reportType=="week"?(x(),L(le,{key:0,modelValue:o.value.time1,"onUpdate:modelValue":u[4]||(u[4]=e=>o.value.time1=e),disabledDate:e=>O(we)(e).day()!=1},null,8,["modelValue","disabledDate"])):U("",!0),o.value.reportType=="month"?(x(),L(ne,{key:1,modelValue:o.value.time2,"onUpdate:modelValue":u[5]||(u[5]=e=>o.value.time2=e)},null,8,["modelValue"])):U("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),t(ue,{style:{"margin-top":"0"}}),t(j,{style:{"margin-bottom":"16px"}},{default:a(()=>[t(E,{span:16},{default:a(()=>[t(re,null,{default:a(()=>[t(G,{type:"primary",onClick:Y},{icon:a(()=>[t(se)]),default:a(()=>[Oe]),_:1}),t(G,{type:"primary",onClick:ae},{icon:a(()=>[t(ie)]),default:a(()=>[Ye]),_:1})]),_:1})]),_:1})]),_:1}),t(de,{"row-key":"id",loading:O(d),pagination:b,data:r.value,bordered:!1,"label-align":"center",onPageChange:te},{columns:a(()=>[t(p,{title:"\u8DDF\u8FDB\u987E\u95EE","data-index":"name"}),t(p,{title:"\u603B\u8BA1",sortable:{sortDirections:["ascend","descend"]},"data-index":"all_num"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"","",e.follow_user_id)},{default:a(()=>[l(n(e.all_num),1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"0\u661F",sortable:{sortDirections:["ascend","descend"]},"data-index":"star0"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"0","",e.follow_user_id)},{default:a(()=>[l(n(e.star0_num)+" ",1),Ge,l(" ("+n(e.star0)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"1\u661F",sortable:{sortDirections:["ascend","descend"]},"data-index":"star1"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"1","",e.follow_user_id)},{default:a(()=>[l(n(e.star1_num)+" ",1),He,l(" ("+n(e.star1)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"2\u661F",sortable:{sortDirections:["ascend","descend"]},"data-index":"star2"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"2","",e.follow_user_id)},{default:a(()=>[l(n(e.star2_num)+" ",1),Je,l(" ("+n(e.star2)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"3\u661F",sortable:{sortDirections:["ascend","descend"]},"data-index":"star3"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"3","",e.follow_user_id)},{default:a(()=>[l(n(e.star3_num)+" ",1),We,l(" ("+n(e.star3)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"4\u661F",sortable:{sortDirections:["ascend","descend"]},"data-index":"star4"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"4","",e.follow_user_id)},{default:a(()=>[l(n(e.star4_num)+" ",1),Ke,l(" ("+n(e.star4)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"5\u661F",sortable:{sortDirections:["ascend","descend"]},"data-index":"star5"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"5","",e.follow_user_id)},{default:a(()=>[l(n(e.star5_num)+" ",1),Qe,l(" ("+n(e.star5)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"2\u661F\u4EE5\u4E0A",sortable:{sortDirections:["ascend","descend"]},"data-index":"star6"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"6","",e.follow_user_id)},{default:a(()=>[l(n(e.star6_num)+" ",1),Xe,l(" ("+n(e.star6)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"3\u661F\u4EE5\u4E0A",sortable:{sortDirections:["ascend","descend"]},"data-index":"star7"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"7","",e.follow_user_id)},{default:a(()=>[l(n(e.star7_num)+" ",1),Ze,l(" ("+n(e.star7)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"4\u661F\u4EE5\u4E0A",sortable:{sortDirections:["ascend","descend"]},"data-index":"star8"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"8","",e.follow_user_id)},{default:a(()=>[l(n(e.star8_num)+" ",1),et,l(" ("+n(e.star8)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"\u672A\u8DDF\u8FDB",sortable:{sortDirections:["ascend","descend"]},"data-index":"status0_num"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"","0",e.follow_user_id)},{default:a(()=>[l(n(e.status0_num)+" ",1),tt,l(" ("+n(e.status0)+")",1)]),_:2},1032,["onClick"])]),_:1}),t(p,{title:"\u5DF2\u8DDF\u8FDB",sortable:{sortDirections:["ascend","descend"]},"data-index":"status1_num"},{cell:a(({record:e})=>[t(v,{onClick:F=>_(e.channel,"","99",e.follow_user_id)},{default:a(()=>[l(n(e.status1_num)+" ",1),at,l(" ("+n(e.status1)+")",1)]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","pagination","data"])]),_:1}),t(_e,{visible:h.value,"onUpdate:visible":u[6]||(u[6]=e=>h.value=e),width:900,footer:!1,style:{padding:"0"}},{title:a(()=>[lt]),default:a(()=>[t(je,{ref_key:"detail",ref:s},null,512)]),_:1},8,["visible"])])}}});var Ct=De(nt,[["__scopeId","data-v-690827e2"]]);export{Ct as default};
